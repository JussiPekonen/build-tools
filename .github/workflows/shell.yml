name: shell
on:
  push:
    paths:
      - 'shell/**'

jobs:
  shellcheck:
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v3
      - name: setup
        run: git clone https://github.com/kward/shunit2.git shunit2 && export PATH="$(pwd)/shunit2:${PATH}" && cmake . -Bout
      - name: shellcheck
        run: make -Cout shellcheck
      - name: shunit2
        run: make -Cout shunit2
